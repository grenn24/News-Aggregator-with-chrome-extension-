<html lang="en">

<!-- Head section defines webpage title, css styling directories, typeface source -->  
<head>
    <meta charset="UTF-8">
    <title>News Aggregator Website</title>
    <link rel="stylesheet" href="/static/home.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
</head>

<body>
<header>
    <h1>News Aggregator</h1>
</header>

<!-- Navigation pane to access different news categories -->    
<nav>
    <ul>
        <li><a href="/" class="nav">Home</a></li>
        <li><a href="/news/politics" class="nav">Politics</a></li>
        <li><a href="/news/business" class="nav">Business</a></li>
        <li><a href="/news/technology" class="nav">Technology</a></li>
        <li><a href="/news/sports" class="nav">Sports</a></li>
        <li><a href="/news/entertainment" class="nav">Entertainment</a></li>
    </ul>
</nav>    

<main>
    <!-- Latest news section of the home page -->
    <section>
        <h2 style="margin-left: 4.7%; font-size: 2.5em">Latest News</h2>

        <!-- Display each news article under general category in a horizontal card layout -->
        {% for new in latest_news %}

        <div class="card-container-1">
            <div class="row-1">
                <div class="card-1">
                    <div class="img-square-wrapper">
                        <img class="image-1" src="{{ new.latests[0].urlToImage }}" alt="{{ new.latests[0].title }}">
                    </div>
                    <div class="card-body-1">
                        <h4 class="card-title" style="font-size: 1.5em">{{ new.latests[0].title }}</h4>
                        <p class="card-text" style="font-size: 1.0em">{{ new.latests[0].description }}</p>
                        <br>
                        <a class="button" href="{{ new.latests[0].url }}">Read More</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-container-1">
            <div class="row-1">
                <div class="card-1">
                    <div class="img-square-wrapper-1">
                        <img class="image-1" src="{{ new.latests[1].urlToImage }}" alt="{{ new.latests[1].title }}">
                    </div>
                    <div class="card-body-2">
                        <h4 class="card-title" style="font-size: 1.5em">{{ new.latests[1].title }}</h4>
                        <p class="card-text" style="font-size: 1.0em">{{ new.latests[1].description }}</p>
                        <br>
                        <a class="button" href="{{ new.latests[1].url }}">Read More</a>
                    </div>
                </div>
            </div>
        </div>

        {% endfor %}

    </section>    
    
    <!-- Other news categories section of the home page -->
    <section>

        <!-- Iterate over each specified news category in the news_columns list -->
        {% for column in news_columns %}

        <!-- News Category Headline -->
        <h2 class="col-md-12" style="margin-left: 4.9%; font-size: 1.7em">{{ column.category }}</h2>
        
        <!-- Iterate over each news article in the specific news category before displaying it in a row of 3 cards -->            
        <div class="row">
            {% for article in column.articles %}

            <div class="column">
                <div class="card">
                    <div class="card-content">
                        <div class="card-img">
                            <img src="{{ article['urlToImage'] }}" class="card-img-top" alt="...">
                        </div>
                        <div class="card-body">
                            <h3 class="card-title">{{ article.title }}</h3>
                            <p class="card-text">{{ article.description }}</p>
                            <a class="button" href="{{ article.url }}">Read More</a>
                        </div>
                    </div>
                </div>
            </div>

            {% endfor %}

        </div>

        {% endfor %}

    </section>
    
    <!-- More News section of the home page -->
    <section>
        <!-- Search bar for users to explore different news topic not listed in the home page -->
        <h2 style="margin-left: 4.9%">More News</h2>
        <form class="search-container" action="/news/" method="get" style="text-align: center" onsubmit="event.preventDefault(); location.href=this.action+encodeURIComponent(document.getElementById('topic').value)">
            <input type="text" id="topic" placeholder="Search for a news topic">
            <i class="cursor-icon"></i>
            <img class="search-icon" src="http://www.endlessicons.com/wp-content/uploads/2012/12/search-icon.png">
        </form>
    </section>
  </main>
</body>

<br>
<br>
<br>
<br>
<br>

<!-- Dynamic footer that displays author name and source code -->    
<footer>
    <!-- File path for external javascript to add dynamic functionality for the footer -->
    <script src="/static/footer_home.js"></script>
    <!-- Create a partition for the footer using container -->
    <div class="footer-left">
        &copy; Hoo Di Heng | All rights reserved | 2023
    </div>
    <div class="footer-right">
        <a href="https://github.com/grenn24" target="_blank">
            <button>Visit My GitHub</button>
        </a>
    </div>
</footer>  
</html>